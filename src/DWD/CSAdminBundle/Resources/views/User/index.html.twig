{% extends "DWDCsAdminBundle:Layout:layout.html.twig" %}

{% block body %}
<div class="ch-container">
    <div class="row">
        <div class="box col-md-12">
            <div class="box-inner">
                <div class="box-header well">
                    <h2><i class="glyphicon glyphicon-user"></i> {{ 'title.userinfo'|trans }}</h2>
                </div> 
                <div class="box-content">
                    <ul class="dashboard-list">
                        <li> 
                            <img class="dashboard-avatar" src="{{ userinfo['avatar'] }}">
                            <strong>{{ 'label.user_id'|trans }}&nbsp;:&nbsp;</strong> {{ userinfo['id'] }}<br><br>
                            <strong>{{ 'label.username'|trans }}&nbsp;:&nbsp;</strong> {{ userinfo['username'] }}<br><br>
                            <strong>{{ 'label.email'|trans }}&nbsp;:&nbsp;</strong> {{ userinfo['email'] }}<br><br>
                            <strong>{{ 'label.locked'|trans }}&nbsp;:&nbsp;</strong> <span class="label-success label label-default">可用</span>&nbsp;&nbsp;&nbsp; <span class="label-success label label-default">未封号</span>&nbsp;&nbsp;&nbsp;<a href="#">[封号]</a>&nbsp;&nbsp;&nbsp;<a href="#">[封号记录]</a><br><br> 
                            <strong>{{ 'label.mobile'|trans }}&nbsp;:&nbsp;</strong> {{ userinfo['mobile'] }}<br><br>
                            <strong>{{ 'label.balance'|trans }}&nbsp;:&nbsp;</strong> {{ userinfo['balance'] }}<br><br>
                            <strong>{{ 'label.coin'|trans }}&nbsp;:&nbsp;</strong> {{ userinfo['coin'] }}<br><br>
                            <strong>{{ 'label.last_login'|trans }}&nbsp;:&nbsp;</strong> {{ userinfo['last_login'] }}<br><br>
                            <strong>{{ 'label.created_at'|trans }}&nbsp;:&nbsp;</strong> {{ userinfo['created_at'] }}<br><br>
                        </li>
                    <ul>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="box col-md-12">
            <div class="box-inner">
                <div class="box-header well" data-original-title="">
                    <h2>{{ 'title.balance_record_list'|trans }}</h2>

                    <div class="box-icon"> 
                        <a href="#" class="btn btn-minimize btn-round btn-default"><i
                                class="glyphicon glyphicon-chevron-up"></i></a> 
                    </div>
                </div>
                <div class="box-content">

                    <table class="table table-striped table-bordered bootstrap-datatable datatable responsive">
                    <thead>
                    <tr>
                        <th>{{ 'label.name'|trans }}</th>
                        <th>{{ 'label.record_type'|trans }}</th>
                        <th>{{ 'label.balance_amount'|trans }}</th>
                        <th>{{ 'label.current_balance'|trans }}</th>
                        <th>{{ 'label.created_at'|trans }}</th> 
                    </tr>
                    </thead>
                    <tbody>  
                    {% for balancerecord in balancerecords %}
                        <tr>
                            <td>{{ balancerecord['user_id'] }}</td>
                            <td>{{ balancerecord['type'] }}</td>
                            <td>{{ balancerecord['amount'] }}</td>
                            <td>{{ balancerecord['current_balance'] }}</td>
                            <td>{{ balancerecord['created_at'] }}</td> 
                        </tr>
                    {% endfor %}
                    </tbody>
                    </table>
             </div>
        </div>
    </div> 

    <div class="row">
        <div class="box col-md-12">
            <div class="box-inner">
                <div class="box-header well" data-original-title="">
                    <h2>{{ 'title.coin_record_list'|trans }}</h2>

                    <div class="box-icon"> 
                        <a href="#" class="btn btn-minimize btn-round btn-default"><i
                                class="glyphicon glyphicon-chevron-up"></i></a> 
                    </div>
                </div>
                <div class="box-content">

                    <table class="table table-striped table-bordered bootstrap-datatable datatable responsive">
                    <thead>
                    <tr>
                        <th>{{ 'label.name'|trans }}</th>
                        <th>{{ 'label.record_type'|trans }}</th>
                        <th>{{ 'label.coin_amount'|trans }}</th>
                        <th>{{ 'label.current_coin'|trans }}</th>
                        <th>{{ 'label.created_at'|trans }}</th>
                    </tr>
                    </thead>
                    <tbody>  
                    {% for coinrecord in coinrecords %}
                        <tr>
                            <td>{{ coinrecord['user_id'] }}</td>
                            <td>{{ coinrecord['type'] }}</td>
                            <td>{{ coinrecord['amount'] }}</td>
                            <td>{{ coinrecord['current_balance'] }}</td>
                            <td>{{ coinrecord['created_at'] }}</td>
                        </tr>
                    {% endfor %}
                    </tbody>
                    </table>
             </div>
        </div>
    </div>

    <div class="row">
        <div class="box col-md-12">
            <div class="box-inner">
                <div class="box-header well" data-original-title="">
                    <h2>{{ 'title.order_list'|trans }}</h2>

                    <div class="box-icon"> 
                        <a href="#" class="btn btn-minimize btn-round btn-default"><i
                                class="glyphicon glyphicon-chevron-up"></i></a> 
                    </div>
                </div>
                <div class="box-content">
                    <ul class="nav nav-tabs" id="orderListTab">
                        <li class="active"><a href="#redeem">未领用</a></li>
                        <li><a href="#refund">退款</a></li>
                        <li><a href="#expired">过期</a></li>
                    </ul>
                    <div id="orderListTabContent" class="tab-content">
                    <div class="tab-pane active" id="redeem">
                        <table id="orderlist-table" class="table table-striped table-bordered bootstrap-datatable responsive">
                        <thead>
                        <tr>
                            <th>{{ 'label.campaign_branch_id'|trans }}</th>
                            <th>{{ 'label.user_id'|trans }}</th>
                            <th>{{ 'label.price'|trans }}</th>
                            <th>{{ 'label.status'|trans }}</th>
                            <th>{{ 'label.type'|trans }}</th>
                            <th>{{ 'label.trade_number'|trans }}</th>
                            <th>{{ 'label.created_at'|trans }}</th> 
                            <th>{{ 'label.updated_at'|trans }}</th>
                        </tr>
                        </thead>
                        <tbody>  
                        {% for order in orderlist %}
                            <tr>
                                <td>{{ order['campaign_branch_id'] }}</td>
                                <td>{{ order['user_id'] }}</td>
                                <td>{{ order['price'] }}元</td>
                                <td>{{ order['status'] }}</td>
                                <td>{{ order['type'] }}</td>
                                <td>{{ order['trade_number'] }}</td>
                                <td>{{ order['created_at'] }}</td>
                                <td>{{ order['updated_at'] }}</td> 
                            </tr>
                        {% endfor %}
                        </tbody>
                        </table>
                    </div>
                    <div class="tab-pane" id="refund"></div>
                    <div class="tab-pane" id="expired"></div> 
             </div>
        </div>
    </div>
</div>
<script type="text/javascript" >
    $(document).ready(function() {
        $('#orderlist-table').dataTable({
            "bProcessing": true,
            "bStateSave": true,
            "bServerSide":  true,
            "sAjaxSource": "user/orderlist?user_id=166036",
            "sDom": "<'row'<'col-md-6'l><'col-md-6'f>r>t<'row'<'col-md-12'i><'col-md-12 center-block'p>>",
            "sPaginationType": "bootstrap",
            "oLanguage": { //国际化配置  
                "sProcessing" : "正在获取数据，请稍后...",    
                "sLengthMenu" : "显示 _MENU_ 条",    
                "sZeroRecords" : "没有您要搜索的内容",    
                "sInfo" : "从 _START_ 到  _END_ 条记录 总记录数为 _TOTAL_ 条",    
                "sInfoEmpty" : "记录数为0",    
                "sInfoFiltered" : "(全部记录数 _MAX_ 条)",    
                "sInfoPostFix" : "",    
                "sSearch" : "搜索",    
                "sUrl" : "", 
                "oPaginate": {    
                    "sFirst" : "第一页",    
                    "sPrevious" : "上一页",    
                    "sNext" : "下一页",    
                    "sLast" : "最后一页"    
                }
            }
        });
    });
 </script>
{% endblock %}